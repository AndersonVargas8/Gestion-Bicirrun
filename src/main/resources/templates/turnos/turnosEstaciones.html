<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Turnos programados</title>

        <link rel="icon" type="image/x-icon" href="/img/favicon.png"
            th:href="@{/img/favicon.png}" />

        <!--JQUERY-->
        <div th:replace="includes.html::jquery"></div>

        <!--BOOTSTRAP-->
        <div th:replace="includes.html::bootstrap"></div>

        <!--FONT AWESOME-->
        <div th:replace="includes.html::fontawesome"></div>

        <!--CSS-->
        <link rel="stylesheet" href="../../static/css/turnos.css"
            th:href="@{/css/turnos.css}" />
        <link rel="stylesheet" href="../../static/css/turnosEstaciones.css"
            th:href="@{/css/turnosEstaciones.css}" />
    </head>
    <body>

        <!--NavBar-->
        <div th:include="navbar.html" th:remove="tag"></div>

        <div class="grid-layout">
            <div id="espacio-vacio"></div>
            <div id="cabecera">
                <i class="fa-solid fa-angle-left flecha" id="diaAtras"></i>
                <h5 class="header-dia" id="header-dia">dd de MMMM del aaaa</h5>
                <i class="fa-solid fa-angle-right flecha" id="diaAdelante"></i>
            </div>
            <div id="barra">
                <div class="calendario" id="calendario">
                </div>
            </div>
            <div class="overflow-auto" id="contenido" th:fragment="contenido">
                

                <div class="accordion" id="accordionExample">
                    <div class="accordion-item" th:each="estacion,iStat: ${turnos.estaciones}">
                        <h2 class="accordion-header" th:id="${'heading'+estacion.id}">
                            <button th:class="${(iStat.count == 1) ? 'accordion-button' : 'accordion-button collapsed'}" type="button"
                                data-bs-toggle="collapse"
                                th:data-bs-target="${'#collapse'+estacion.id}"
                                aria-expanded="true"
                                th:aria-controls="${'collapse'+estacion.id}">
                                <div class="d-block text-center w-100" th:text="${estacion.nombre}">Nombre estaci√≥n</div>
                            </button>
                        </h2>
                        <div th:id="${'collapse'+estacion.id}" th:class="${(iStat.count == 1) ? 'accordion-collapse collapse
                            show' : 'accordion-collapse collapse'}" aria-labelledby="${'heading'+estacion.id}"
                            data-bs-parent="#accordionExample">
                            <div class="accordion-body p-2">
                                <div class="header-estacion">
                                    <div>HORARIO</div>
                                    <div>ESTUDIANTE</div>
                                    <div>OBSERVACIONES</div>
                                    <div>ESTADO</div>
                                </div>
                                <div class="horario" th:each="horario: ${estacion.horarios}">
                                    <div th:each="turno: ${horario.turnos}" th:remove="tag">
                                        <div class="turno" th:if="${turno != null}">
                                            <div th:text="${turno.horario}">--:-- - --:-- </div>
                                            <div th:text="${turno.estudiante}">Estudiante</div>
                                            <div>
                                                <div class="form-floating">
                                                    <textarea class="form-control"
                                                    id="obs" th:value="${turno.observaciones}" th:text="${turno.observaciones}">Observaciones</textarea>
                                                    <label for="obs">Observaciones</label>
                                                </div>
                                            </div>
                                            <div>
                                                <div th:class="${(turno.idEstado == 1) ? 'alert alert-info' : ((turno.idEstado == 2) ? 'alert alert-success' : 'alert alert-danger')}" th:text="${turno.estado}">Estado</div>
                                            </div>
                                            <div class="acciones">
                                                <i class="fa-solid fa-trash"
                                                title="Eliminar turno"></i>
                                                <i class="fa-solid fa-pen-to-square"
                                                title="Editar turno"></i>
                                            </div>
                                        </div>
                                        <div class="turnoDisponible" title="Agregar turno" th:if="${turno == null}">
                                            <div th:text="${horario.descripcion}">--:-- - --:-- </div>
                                            <div><i>Disponible</i></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!--DATEPICKER-->
        <div th:replace="includes.html::datepicker"></div>

        <!--DSELECT-->
        <div th:replace="includes.html::dselect"></div>

        <!--TOASTR-->
        <div th:replace="includes.html::toastr"></div>

        <!--JAVASCRIPT-->
        <script src="../../static/javascript/turnosEstaciones.js"
            th:src="@{/javascript/turnosEstaciones.js}"></script>
    </body>
</html>